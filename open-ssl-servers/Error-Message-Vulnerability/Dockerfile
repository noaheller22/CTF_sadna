FROM debian:bullseye-slim

RUN apt-get update && apt-get install -y python3 && rm -rf /var/lib/apt/lists/*

WORKDIR /app

COPY vulnerable_server.py /app/
COPY Error-Message-Vulnerability/openssl-1.0.2g /app/openssl-1.0.2g
COPY Error-Message-Vulnerability/server.key /app/
COPY Error-Message-Vulnerability/server.cert /app/

# The server binds to 0.0.0.0:4433
EXPOSE 4433

CMD ["python3", "vulnerable_server.py"]
