import socket, binascii

SERVER_HOST = "127.0.0.1" #Locally - should be changed by what the game exposed 
SERVER_PORT = 4434

def send_cipher(cipher_hex: str):
    """Send a hex-encoded ciphertext to the server and return the response"""
    try:
        ciphertext = binascii.unhexlify(cipher_hex.strip())
    except binascii.Error:
        return None
    s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    s.connect((SERVER_HOST, SERVER_PORT))
    s.sendall(ciphertext)
    response = s.recv(4096)
    s.close()
    return response

if __name__ == "__main__":
    while True:
        cipher_hex = input("Type cipher (in hex) here: ").strip()
        if cipher_hex.lower() == "done":
            break
        response = send_cipher(cipher_hex)
        if response is None:
            print("Input not valid hex â†’ exiting")
            break
        print("Server responded:", response)
