FROM debian:bullseye-slim

RUN apt-get update && apt-get install -y python3 && rm -rf /var/lib/apt/lists/*

WORKDIR /app

COPY vulnerable_server.py /app/
COPY Timing-Vulnerability/openssl-0.9.8 /app/openssl-0.9.8
COPY Timing-Vulnerability/server.key /app/
COPY Timing-Vulnerability/server.crt /app/

# The server binds to 0.0.0.0:4434
EXPOSE 4434

CMD ["python3", "vulnerable_server.py"]
